>[!Info] Redirection
리다이렉션은 **입력과 출력을 원하는 방향으로 바꾸는 기술**



# 표준 스트림
![[Pasted image 20250603105639.png]]

![[Pasted image 20250603105844.png]]

- 세 가지 데이터 스트림
	- 표준 입력: stdin
		- 명령에 입력되는 데이터스트림으로 기본적으로 연결된 키보드이다.
		- 전에 있던 파일로부터 명령어를 실행한다.
		- 명령의 표준 출력을 표준 입력으로 다른 명령에 전달해 실행할 수 있다.
	- 표준 출력: stdout
		- 데이터의 목적지와 같다.
		- 명령어를 입력했을 때 바로 터미널에 보여주지 않고, 파일로 저장하거나 프린터나 다른 장치로 보내거나 다른 명령어로 전달할 수 있다.
		- 기본값은 터미널 창으로 출력된다.
		- 그러나 명령어의 출력값을 파일로 저장하거나 프린터, 다른 기기로 보내거나 다른 명령어의 입력값으로 명령어를 연계할 수 있다.
	- 표준 에러: stderr
		- 명령으로부터 비롯된 결과를 나타내는 데이터스트림으로 일종의 출력이다.
		- 이 데이터 스트림은 에러 정보를 전달한다. 
		- 기본적으로 터미널에 보여진다.
	- 프로그램과 명령어, 이것들이 실행되는 환경을 연결하는 통신 채널이다.

# 표준 출력을 리다이렉션 하는 방법
![[Pasted image 20250603110626.png]]

- 표준 입력을 다른 파일이나 다른 명령의 결과로 바꾸는 것.
- 표준 출력과 표준 에러에 대해서 결과가 출력되는 곳을 터미널 창 대신 파일에 저장하는 것으로 바꿀 수 있다.

![[Pasted image 20250603111116.png]]
- `>` 기호를 이용해서 표준 출력을 리다이렉션을 할 수 있다.
- `명령어 > 파일명` : **명령어의 결과를 파일로 리다이렉션**하라고 쉘에 명령.
	- 주의: 기존 파일 내용을 지우고 완전히 덮어쓰게 된다.
	- `ls -l /usr/bin/ > list.txt`
	- `sort -nk5 list.txt > sorted_list.txt`


![[Pasted image 20250603112542.png]]
- `>>` 연산자를 이용하면 파일의 끝에 새로운 데이터를 추가할 수 있다. (덮어쓰기 X)


# 표준 입력 리다이렉션
![[Pasted image 20250603113140.png]]
- `<` 연산자
- `command < filename`

# 표준입력과 출력을 동시에 리다이렉션하기
![[Pasted image 20250603113709.png]]

- `cat < original.txt > output.txt`
	- original.txt 파일을 cat 명령어로 처리한 결과를 output.txt에 덮어쓴다.

# 표준 에러
![[Pasted image 20250603114230.png]]

- `2>`, `2>>`
- 에러를 파일로 저장해서 기록을 남기는 경우에 사용된다.


![[Pasted image 20250603115551.png]]
- 표준 스트림에는 각각 파일 **디스크립터**라는 번호가 있다.
	- 표준 입력: 0
	- 표준 출력: 1
	- 표준 에러: 2

![[Pasted image 20250603120306.png]]
- `2>&1`
	- 표준 에러와 표준 출력을 같은 파일에 저장할 때만 사용하는 구문

![[Pasted image 20250603121119.png]]
- `&>` , `&>>` 최근에는 이렇게 사용한다.
	- `ls -qwer &> output.txt`
	- `ls -l &>> output.txt`