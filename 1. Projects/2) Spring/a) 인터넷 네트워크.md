# 인터넷에서 컴퓨터 둘은 어떻게 통신할까?
![[Pasted image 20241119194915.png]]
- 컴퓨터끼리 연결이 되어 있다면 선으로 연결되어 통신이 가능하지만,
  한국 <-> 미국처럼 멀리 있다면 인터넷 망이 필요하다.
- 이 복잡한 인터넷망을 통해 어떻게 안전하게 데이터를 전송할 수 있을까?
- 이것을 이해하기 위해서는 IP(인터넷 프로토콜)를 이해해야 한다.


# IP(인터넷 프로토콜)
## IP 주소 부여
![[Pasted image 20241119195240.png]]
- IP(인터넷 프로토콜)의 역할
	- 지정한 IP 주소(IP Address)에 데이터 전달
	- 패킷(Packet)이라는 통신 단위로 데이터 전달


![[Pasted image 20241119195419.png]]
- IP 패킷 규칙: 나의 IP(출발지)와 목적지 IP를 적어야 한다.

![[Pasted image 20241119195526.png]]
- IP 프로토콜에 의해서 규약에 따라 노드끼리 출발지와 목적지를 서로 이해한다.
- 서로 패킷을 전달하면서 최종적으로 미국에 있는 친구인 200.200.200.2에 도달한다.

![[Pasted image 20241119195738.png]]
- 요청할 때와 응답할 때 서로 다른 노드로 전달될 수도 있다.(순서가 정확히 역순 ❌)

## IP 프로토콜의 한계
- 비연결성
	- 패킷을 받을 대상이 없거나 서비스 불능 상태여도 패킷 전송
- 비신뢰성
	- 중간에 패킷이 사라지면? (패킷 소실)
	- 패킷이 순서대로 안오면? (패킷 전달 순서 문제)
- 프로그램 구분
	- 같은 IP를 사용하는 서버에서 통신하는 애플리케이션이 둘 이상이면?(구분불가)

![[Pasted image 20241119200312.png]]
![[Pasted image 20241119200330.png]]
![[Pasted image 20241119200343.png]]

>[!Question] IP 프로토콜의 한계를 어떻게 극복할까?


# TCP, UDP
>[!Success] TCP 프로토콜이 해결한다 !

## 인터넷 프로토콜 스택의 4계층
![[Pasted image 20241119201314.png]]
![[Pasted image 20241119201614.png]]
![[Pasted image 20241119201758.png]]

## TCP(Transmission Control Protocol): 전송 제어 프로토콜
- TCP 특징
	- 연결지향 - TCP 3 way handshake
	- 데이터 전달 보증
	- 순서 보장
	- 신뢰할 수 있는 프로토콜
	- 현재는 대부분 TCP 사용

### TCP 3 way handshake (논리적 연결)
![[Pasted image 20241119202145.png]]
- 서로의 상태를 확인을 하고 데이터를 전송한다.
- 그렇기 때문에, 처음에 목적지 서버가 꺼져있으면 1.SYN에 대한 응답이 없기 때문에 클라이언트는 목적지 서버에 대한 상태가 문제가 있다는 것을 알 수 있다.


### 데이터 전달 보증
![[Pasted image 20241119202511.png]]
전송했을 때 데이터에 대한 응답이 있기 때문에 메시지를 잘 전달했는지 알 수 있다.

### 순서 보장
![[Pasted image 20241119202536.png]]
클라이언트가 전송한 데이터의 순서가 잘못되었다고 판단되면 클라이언트에게 다시 데이터를 보내라고 요청한다.

>[!Note] 이것이 가능한 이유
>TCP/IP 패킷에 전송 제어, 순서, 검증 정보들이 포함되어 있기 때문이다.

## UDP(User Datagram Protocol): 사용자 데이터그램 프로토콜
- UDP 특징
	- 하얀 도화지에 비유(기능이 거의 없음)
	- 연결 지향(TCP 3 way handshake) ❌
	- 데이터 전달 보증 ❌
	- 순서 보장 ❌
	- 데이터 전달 및 순서가 보장되지 않지만, **단순하고 빠르다.**
	- IP와 거의 같다
		- PORT와 체크섬 정도만 포함되어 있다.
		- 애플리케이션에서 추가 작업이 필요하다.


# PORT
>[!Question] 한번에 둘 이상 연결해야 하면 어떻게 구분할까?

![[Pasted image 20241119204350.png]]

>[!Note] PORT: 같은 IP 내에서 프로세스를 구분하는 것.
>TCP/IP 패킷 정보에 출발지 PORT와 목적지 PORT가 있기 때문에 가능하다.
>
><비유>
>IP: 아파트
>PORT: 동/호수 (한 아파트(서버) 안에서 그 사람들이 사는 집을 구분해준다.)
>
IP: 목적지 서버를 찾는다.
PORT: 그 서버 안에서 돌아가는 애플리케이션을 구분한다.

- 0 ~ 65535 할당 가능
- 0 ~ 1023: 잘 알려진 포트, 사용하지 않는 것이 좋다.
	- FTP: 20,21
	- TELNET: 23
	- HTTP: 80
	- HTTPS: 443

# DNS (Domain Name System)
>[!Warning] IP는 기억하기 어렵고, 변경될 수 있다..!

![[Pasted image 20241119210318.png]]
![[Pasted image 20241119210419.png]]





















