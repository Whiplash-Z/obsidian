# 클라이언트 서버 구조
![[Pasted image 20241119235318.png]]
- Request Response 구조
- 클라이언트는 서버에 요청을 보내고 응답을 대기한다.
- 서버가 요청에 대한 결과를 만들어서 응답
- 클라이언트는 UI/UX에 집중하고, 서버는 복잡한 비즈니스 로직에만 집중하도록 구분

# 무상태 프로토콜 (Stateless)
 - 서버가 클라이언트의 상태를 보존하지 않는다.
 - 장점: 서버 확장성 높음(스케일 아웃)
 - 단점: 클라이언트가 추가 데이터 전송
## Stateful
- 항상 같은 서버가 유지되어야 한다.
- 중간에 서버 장애가 발생하면 다른 서버에서는 클라이언트가 무엇을 목적으로 요청했는지 모른다.
![[Pasted image 20241120000938.png]]


![[Pasted image 20241120000644.png]]
![[Pasted image 20241120000652.png]]
![[Pasted image 20241120000710.png]]

## Stateless
- 클라이언트가 필요한 정보를 모두 담아서 주기 때문에 아무 서버나 호출해도 된다.
- 중간에 서버에 장애가 발생해서 다른 서버에 요청해도 문제 없다.
![[Pasted image 20241120001039.png]]

![[Pasted image 20241120000739.png]]
![[Pasted image 20241120000748.png]]
![[Pasted image 20241120000757.png]]


### Stateless 실무 한계
- 모든 것을 무상태로 설계할 수 있는 경우도 있고 없는 경우도 있다.
- 무상태
	- ex) 로그인이 필요 없는 단순한 서비스 소개 화면
- 상태 유지
	- ex) 로그인
	- 로그인한 사용자의 경우 로그인 했다는 상태를 서버에 유지
	- 일반적으로 브라우저 쿠키와 서버 세션등을 사용해서 상태 유지
	- 상태 유지는 최소한만 사용하자.


# 비 연결성(connectionless)
![[Pasted image 20241120002209.png]]
- 요청을 하고 응답을 받으면 바로 연결을 끊는다.
	- 서버는 연결을 유지하지 않고, 종료해서 최소한의 자원만 사용한다.
- HTTP는 기본적으로 비 연결성 모델이다.


## 비 연결성 한계와 극복
- 한계
	- TCP/IP 연결을 새로 맺어야 한다.
		- 연결마다 3-way handshake 시간이 추가된다.
	- 웹 브라우저로 사이트를 요청하면 HTML 뿐만 아니라 자바스크립트, CSS, 이미지 등 수많은 자원이 함께 다운로드 된다.
- 극복
	- 지금은 HTTP 지속 연결(Persistent Connections)로 문제를 해결했다.
![[Pasted image 20241120002634.png]]
![[Pasted image 20241120002646.png]]


# HTTP 메시지
![[Pasted image 20241120011332.png]]


